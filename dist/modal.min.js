/**
 * The Modal library.
 *
 * @github  https://github.com/wester-ir/modal
 * @version 1.1
 */
var modal={classes:{confirmPrimaryButton:"btn btn-primary btn-sm",confirmSuccessButton:"btn btn-success btn-sm",confirmDangerButton:"btn btn-danger btn-sm"},localization:{lang:document.querySelector("html").getAttribute("lang")||"en",translations:{en:{},fa:{Close:"بستن",Yes:"تایید","Are you sure?":"آیا مطمئن هستید؟"}},get(e,o){return this.translations[o||this.lang][e]||e}},data:{},defaults:{confirm:function(e,o,l){return modal.create({body:o,buttons:[{label:modal.localization.get("Yes"),className:l,onClick:function(o){e(),modal.dismiss(o.id)}}]}),!1},confirmPrimary:function(e,o){return o=o||modal.localization.get("Are you sure?"),modal.defaults.confirm(e,o,modal.classes.confirmPrimaryButton),!1},confirmSuccess:function(e,o){return o=o||modal.localization.get("Are you sure?"),modal.defaults.confirm(e,o,modal.classes.confirmSuccessButton),!1},confirmDanger:function(e,o){return o=o||modal.localization.get("Are you sure?"),modal.defaults.confirm(e,o,modal.classes.confirmDangerButton),!1}},createButton:function(e,o){let l=document.createElement("button");return o.id&&(l.id=o.id),o.disabled&&(l.disabled=!0),l.type=o.type,l.className=o.className,l.style.minWidth="60px",l.innerHTML=o.label,l.addEventListener("click",function(l){o.onClick(e,l)}),l},dismiss:function(e){var o=document.body.querySelector('.modal[id="'+e+'"]');o&&(o.remove(),0===document.body.querySelectorAll(".modal").length&&(document.body.style.overflow=""))},dismissAll:function(){document.body.querySelectorAll(".modal").forEach(function(e){e.remove()}),document.body.style.overflow="",this.flushData()},flushData:function(){modal.data={}}};modal.create=function(e){(e=e||{}).title=e.title||null,e.body=e.body||null,e.size=e.size||"small",e.closeOutside=void 0===e.closeOutside||e.closeOutside,e.closeButton=void 0===e.closeButton||e.closeButton,e.buttons=e.buttons||[],e.className=e.className||[],e.dir=e.dir||"auto",e.lang=e.lang||null;var o={};o.modal=document.createElement("div"),o.modal.id=(Math.random()+1).toString(36).substring(2),o.container=document.createElement("div"),o.header=document.createElement("div"),o.headerTitle=document.createElement("div"),o.headerClose=document.createElement("button"),o.body=document.createElement("div"),o.footer=document.createElement("div"),o.modal.className="modal modal-dir-"+e.dir+" "+e.className,o.container.className="modal-container modal-"+e.size,o.header.className="modal-header",o.headerTitle.className="modal-title",o.headerClose.className="modal-close",o.body.className="modal-body",o.footer.className="modal-footer",o.headerClose.innerHTML='<svg class="svg-icon" style="width: 10px; height: 10px;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M895.156706 86.256941a30.177882 30.177882 0 0 1 42.767059-0.180706c11.745882 11.745882 11.745882 30.870588-0.180706 42.767059L128.843294 937.743059c-11.866353 11.866353-30.930824 12.047059-42.767059 0.180706-11.745882-11.745882-11.745882-30.870588 0.180706-42.767059L895.156706 86.256941z" fill="#000000" /><path d="M86.076235 86.076235c11.745882-11.745882 30.870588-11.745882 42.767059 0.180706l808.899765 808.899765c11.866353 11.866353 12.047059 30.930824 0.180706 42.767059-11.745882 11.745882-30.870588 11.745882-42.767059-0.180706L86.256941 128.843294a30.177882 30.177882 0 0 1-0.180706-42.767059z" fill="#000000" /><path d="M0 0h1024v1024H0z" fill="#FFF4F4" fill-opacity="0" /></svg>',e.scrollReachedBottom&&o.body.addEventListener("scroll",()=>{o.body.scrollTop+o.body.clientHeight>=o.body.scrollHeight&&e.scrollReachedBottom()}),o.modal.appendChild(o.container),e.closeOutside&&(o.modal.onclick=function(e){e.target===o.modal&&modal.dismiss(o.modal.id)}),e.title&&(o.headerTitle.innerHTML=e.title,o.container.appendChild(o.header),o.header.appendChild(o.headerTitle),o.header.appendChild(o.headerClose),o.headerClose.onclick=function(){modal.dismiss(o.modal.id)}),o.container.appendChild(o.body),"string"==typeof e.body?o.body.innerHTML=e.body:o.body.append(e.body),e.closeButton&&e.buttons.push({id:"modal-close-btn",label:modal.localization.get("Close",e.lang),className:"btn btn-secondary btn-sm",onClick:function(){modal.dismiss(o.modal.id)}}),e.buttons.length>0&&(o.container.appendChild(o.footer),e.buttons.forEach(function(e){o.footer.appendChild(modal.createButton(o.modal,e))})),document.body.appendChild(o.modal),document.body.style.overflow="hidden"};
